<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of plot_modis_territorial_water</title>
  <meta name="keywords" content="plot_modis_territorial_water">
  <meta name="description" content="%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt;  <a href="index.html">Mfiles</a> &gt; plot_modis_territorial_water.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for Mfiles&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>plot_modis_territorial_water
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>function plot_modis_territorial_water(out_path,tag,lon,lat,var,day) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                   Plot function to plat a concentration map

% 29/04/2014 louise: add territorial zone waters
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0002 <span class="comment">%                   Plot function to plat a concentration map</span>
0003 <span class="comment">%</span>
0004 <span class="comment">%% 29/04/2014 louise: add territorial zone waters</span>
0005 <span class="comment">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span>
0006 <a name="_sub0" href="#_subfunctions" class="code">function plot_modis_territorial_water(out_path,tag,lon,lat,var,day)</a>
0007 
0008 addpath ./m_map
0009 <span class="comment">%h2=figure('visible','off');</span>
0010 h2=figure;
0011 
0012 lonv=lon(1,:);
0013 latv=lat(:,1)';
0014 <span class="comment">% In order to have flagged values black</span>
0015 var(isnan(var))=9999;
0016 
0017 <span class="keyword">if</span> strcmp(tag,<span class="string">'CHL'</span>)
0018     <span class="comment">% Chl is plotted on log scale</span>
0019     hi=imagesc(lonv,latv,log10(var));
0020     <span class="comment">%hi=m_pcolor(lonv,latv,log10(var));</span>
0021     caxis([log10(0.01) log10(20)]);
0022 <span class="comment">%    caxis([log10(0.01) log10(0.1)]);</span>
0023 <span class="keyword">else</span>
0024     hi=imagesc(lon,lat,var);
0025     <span class="keyword">if</span> strcmp(tag,<span class="string">'SST'</span>)
0026 <span class="comment">%        caxis([20 30]);</span>
0027         caxis([25 29]);
0028     <span class="keyword">end</span>
0029 <span class="keyword">end</span>
0030 set(gca,<span class="string">'fontsize'</span>,20);
0031 hold on
0032 <span class="comment">% Flip axis</span>
0033 axis xy
0034 <span class="comment">% Draw coastline</span>
0035 <span class="comment">%continenta</span>
0036 <span class="comment">% Set axis limits</span>
0037 xlim([min(lonv) max(lonv)])
0038 ylim([min(latv) max(latv)])
0039 <span class="comment">% % Draw strasse domain</span>
0040 <span class="comment">% strasse_boundary</span>
0041 <span class="comment">% line([Lon(1) Lon(1) Lon(2) Lon(2) Lon(1)], ...</span>
0042 <span class="comment">%      [Lat(1) Lat(2) Lat(2) Lat(1) Lat(1)], ...</span>
0043 <span class="comment">%     'color','m','linewidth',6)</span>
0044 <span class="comment">% %    'color','m','linewidth',10)</span>
0045 <span class="comment">% Use colorbar from MODIS</span>
0046 
0047 colordata=load([<span class="string">'colormap_modis_'</span>,tag,<span class="string">'.txt'</span>]);
0048 colormap(colordata)
0049 
0050 <span class="comment">%- Stations positions -% (degres east)</span>
0051 lat_stat = -19;
0052 lon_stat_A = 155;
0053 lon_stat_B = 176.32;
0054 lon_stat_C = 200; <span class="comment">%(�E)</span>
0055 
0056 SD_stat=load(<span class="string">'SD_stations_coord.txt'</span>);
0057 lon_stat_SD=SD_stat(2:18,2);
0058 lat_stat_SD=SD_stat(2:18,1);
0059 lon_noumea=SD_stat(1,2);
0060 lat_noumea=SD_stat(1,1);
0061 lon_papeete=SD_stat(19,2);
0062 lat_papeete=SD_stat(19,1);
0063 <span class="comment">%</span>
0064 <span class="comment">%</span>
0065 <span class="comment">% %- Plot the figure</span>
0066 <span class="comment">% figure(1); hold on;</span>
0067 <span class="comment">% m_proj('mercator','lon',[lon_min lon_max],'lat',[lat_min lat_max]);</span>
0068 <span class="comment">% m_pcolor(lon,lat,log10(var));</span>
0069 <span class="comment">% colormap(colordata)</span>
0070 <span class="comment">% shading flat</span>
0071 <span class="comment">% m_coast('patch',[.7 .7 .7],'edgecolor','k');</span>
0072 <span class="comment">% m_grid('box','fancy','tickdir','in');</span>
0073 <span class="comment">% Set colorbar</span>
0074 H= colorbar;
0075 <span class="comment">% if strcmp(tag,'CHL')</span>
0076 <span class="comment">%     % set tick labels on colorbar according to log scale</span>
0077 <span class="comment">%     set(H,'ytick',log10([0.01 0.025 0.05 0.075 0.1 0.25 0.5 0.75 1 2.5 5 7.5 10]),'yticklabel',...</span>
0078 <span class="comment">%         [0.01 0.025 0.05 0.075 0.1 0.25 0.5 0.75 1 2.5 5 7.5 10],'tickdir','in')</span>
0079 <span class="comment">% end</span>
0080 <span class="comment">%set(H,'fontsize',20);</span>
0081 <span class="comment">% Title</span>
0082 title(<span class="string">'Chlorophyll Concentration February 2014'</span>)
0083 <span class="comment">%title(['MODIS ',tag,' ',datestr(datevec(day,'yyyymmdd'))],'fontsize',30);</span>
0084 xlabel(<span class="string">'Longtitude'</span>);
0085 ylabel(<span class="string">'Latitude'</span>);
0086 
0087 <span class="comment">%hold all; hold on;</span>
0088 hold on
0089 
0090 <span class="comment">%- Plot stations, Noum� and Papeete -%</span>
0091 
0092 A=plot(lon_stat_A,lat_stat,<span class="string">'o'</span>,<span class="string">'markersize'</span>,10,<span class="keyword">...</span>
0093         <span class="string">'MarkerFaceColor'</span>,<span class="string">'r'</span>,<span class="string">'MarkerEdgeColor'</span>,<span class="string">'r'</span>);
0094 text(lon_stat_A-0.5,lat_stat+2,<span class="string">'A'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>,<span class="string">'Color'</span>,<span class="string">'r'</span>);
0095 B=plot(lon_stat_B,lat_stat,<span class="string">'o'</span>,<span class="string">'markersize'</span>,10,<span class="keyword">...</span>
0096         <span class="string">'MarkerFaceColor'</span>,<span class="string">'r'</span>,<span class="string">'MarkerEdgeColor'</span>,<span class="string">'r'</span>);
0097 text(lon_stat_B-0.5,lat_stat+2,<span class="string">'B'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>,<span class="string">'Color'</span>,<span class="string">'r'</span>);
0098 C=plot(lon_stat_C,lat_stat,<span class="string">'o'</span>,<span class="string">'markersize'</span>,10,<span class="keyword">...</span>
0099         <span class="string">'MarkerFaceColor'</span>,<span class="string">'r'</span>,<span class="string">'MarkerEdgeColor'</span>,<span class="string">'r'</span>);
0100 text(lon_stat_C-0.5,lat_stat+2,<span class="string">'C'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>,<span class="string">'Color'</span>,<span class="string">'r'</span>);
0101 
0102 SD=plot(lon_stat_SD,lat_stat_SD,<span class="string">'.'</span>,<span class="string">'markersize'</span>,10,<span class="keyword">...</span>
0103         <span class="string">'MarkerFaceColor'</span>,<span class="string">'r'</span>,<span class="string">'MarkerEdgeColor'</span>,<span class="string">'r'</span>);
0104     
0105 plot(lon_noumea,lat_noumea,<span class="string">'p'</span>,<span class="string">'markersize'</span>,10,<span class="keyword">...</span>
0106         <span class="string">'MarkerFaceColor'</span>,<span class="string">'m'</span>,<span class="string">'MarkerEdgeColor'</span>,<span class="string">'m'</span>);
0107 text(lon_noumea+1,lat_noumea,<span class="string">'Noum�'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>,<span class="string">'Color'</span>,<span class="string">'k'</span>);
0108 
0109 <span class="comment">%plot(lon_papeete,lat_papeete,'p','markersize',10); % not visible in the</span>
0110 <span class="comment">%figure because of the area limits</span>
0111     
0112 <span class="comment">%legend([A SD],'LD stations','SD stations','Location','SouthEast');</span>
0113 legend(<span class="string">'LD stations'</span>,<span class="string">'SD stations'</span>,<span class="string">'Location'</span>,<span class="string">'SouthEast'</span>);
0114  
0115 <span class="comment">%- Plot VANUATU territorial water limits -%</span>
0116 plot([165 165],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0117 plot([174.5 174.5],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0118 text(165.7,-20,<span class="string">'VANUATU'</span>,<span class="string">'Color'</span>,<span class="string">'w'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>)
0119 
0120 <span class="comment">%- Plot TONGA territorial water limits -%</span>
0121 plot([189 189],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0122 plot([194 194],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0123 text(189,-20.25,<span class="string">'TONGA'</span>,<span class="string">'Color'</span>,<span class="string">'w'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>)
0124 
0125 <span class="comment">%- Plot ILES COOK territorial water limits -%</span>
0126 plot([199 199],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0127 plot([209 209],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0128 text(199.5,-20,<span class="string">'ILES'</span>,<span class="string">'Color'</span>,<span class="string">'w'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>)
0129 text(199.5,-20.5,<span class="string">'COOK'</span>,<span class="string">'Color'</span>,<span class="string">'w'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>)
0130 
0131 <span class="comment">%- Plot NIUE territorial water limits -%</span>
0132 plot([194 194],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0133 plot([199 199],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0134 text(194.7,-20,<span class="string">'NIUE'</span>,<span class="string">'Color'</span>,<span class="string">'w'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>)
0135 
0136 <span class="comment">%- Plot FIDJI territorial water limits -%</span>
0137 plot([174.5 174.5],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0138 plot([189 189],[-19.7 -18.3],<span class="string">'-w'</span>,<span class="string">'Linewidth'</span>,5)
0139 text(180.5,-20,<span class="string">'FIDJI'</span>,<span class="string">'Color'</span>,<span class="string">'w'</span>,<span class="string">'FontWeight'</span>,<span class="string">'bold'</span>)
0140 
0141 hold off
0142 <span class="comment">%- Save figure</span>
0143 <span class="comment">% print(h2,[out_path,num2str(day),'_MODIS_',tag,'.eps'],'-depsc')</span>
0144 <span class="comment">% print(h2,[out_path,num2str(day),'_MODIS_',tag,'.png'],'-dpng','-r800')</span>
0145 print(h2,[<span class="string">'../../Figures/territorial_water/all_territorial_waters_'</span>,num2str(day),<span class="string">'_MODIS_'</span>,tag,<span class="string">'.eps'</span>],<span class="string">'-depsc'</span>)
0146 print(h2,[<span class="string">'../../Figures/territorial_water/all_territorial_waters_'</span>,num2str(day),<span class="string">'_MODIS_'</span>,tag,<span class="string">'.png'</span>],<span class="string">'-dpng'</span>,<span class="string">'-r800'</span>) <span class="comment">% save figures for each territorial water</span>
0147 <span class="comment">%disp(['     Figure ',[out_path,num2str(day),'_MODIS_',tag,'.eps'],' saved'])</span>
0148 disp([<span class="string">'     Figure '</span>,[out_path,num2str(day),<span class="string">'_MODIS_'</span>,tag],<span class="string">' saved'</span>])</pre></div>
<hr><address>Generated on Mon 07-Jul-2014 17:12:06 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>